import{P as o}from"./Pagination.2cb0858d.js";import{ac as i,_ as s,r,a as p,n as g}from"./index.c1d8041c.js";const c=i({components:{Pagination:o},props:{dispatcher:{type:String,required:!0},form:{type:Object,default:{}}},data(){return{paginator:{page:1,limit:10},total:10}},async mounted(){await this.fetchData()},methods:{async paginate(a,t={}){this.paginator.page=a,this.total=0,await this.fetchData(t)},async changePerPage(a){this.paginator.limit=a,this.paginator.page=1,await this.fetchData()},async fetchData(a={}){console.log({form:a}),a=={}&&(a=this.from);const t=await this.$store.dispatch(this.dispatcher,{...a,...this.paginator});this.total=t==null?void 0:t.total_objects,console.log("res?.results",t==null?void 0:t.results),this.$emit("setItems",t==null?void 0:t.results)}}});function l(a,t,h,P,m,u){const n=r("Pagination");return p(),g(n,{total:a.total,currentPage:a.paginator.page,perPage:a.paginator.limit,onPaginate:t[0]||(t[0]=e=>a.paginate(e)),onChangePerPage:t[1]||(t[1]=e=>a.changePerPage(e))},null,8,["total","currentPage","perPage"])}const y=s(c,[["render",l]]);export{y as M};
