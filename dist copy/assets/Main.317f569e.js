import{_,q as v,ac as y,aK as x,aL as C,I as w,r as n,a as c,b as h,d as t,t as a,J as k,G as i,H as d,y as m,e as u,A as U}from"./index.c1d8041c.js";const p=v(),L=y({data(){return{images:{},isLoading:!1,errors:{},user:{},successMessage:"Successfully saved!"}},computed:{...x(["getUser"]),globalLoading(){return this.$store.state.common.loadingStatus}},async created(){this.$store.commit("setLoadingStatus",!0),await this.fetchProfile(),this.user={...this.getUser},this.user.date_of_birthday==null&&(this.user.date_of_birthday="28-04-1998"),this.$store.commit("setLoadingStatus",!1)},methods:{...C(["putProfile","fetchProfile"]),clickInput(e){document.getElementById(e).click()},changeImage(e,s){this.images[s]=e.target.files[0];const o=URL.createObjectURL(e.target.files[0]);this.user[s]=o},removeAvatar(){this.images.avatar==null,this.user.avatar==null},async submit(){var s;try{this.isLoading=!0,this.errors={};let o=this.user;o={...o,...this.images};const l=new FormData;for(var e in o)e=="avatar"?typeof o[e]!="string"&&l.append(e,o[e]):l.append(e,o[e]);await this.putProfile(l),this.user=this.getUser,p.success()}catch(o){console.log({error:o}),p.error(),this.errors=(s=o.response)==null?void 0:s.data}finally{this.isLoading=!1}},getError(e){var s;return(s=this.errors[e])==null?void 0:s[0]}},components:{SubmitButton:w}}),E={class:"grid grid-cols-12 gap-6"},S={class:"col-span-12 lg:col-span-12 2xl:col-span-12"},V={key:0,class:"intro-y box lg:mt-5"},$=t("div",{class:"flex items-center p-5 border-b border-gray-200 dark:border-dark-5"},[t("h2",{class:"font-medium text-base mr-auto"},"Profile")],-1),B={class:"p-5"},I={class:"grid grid-cols-12 gap-6"},P={class:"col-span-12 lg:col-span-4 2xl:col-span-3 flex lg:block flex-col-reverse"},D={class:"intro-y"},M={class:"border-2 border-dashed shadow-sm border-gray-200 dark:border-dark-5 rounded-md p-5 items-center"},Y={class:"h-60 w-60 image-fit cursor-pointer zoom-in mx-auto mb-3"},N=["src"],A=["textContent"],j={class:"mx-auto cursor-pointer relative mt-5"},z={class:"flex flex-wrap -mx-3 mb-3"},G={class:"w-full px-3 mb-3"},R=t("label",{for:"phone",class:"form-label"},"Phone",-1),T=["textContent"],q={class:"w-full px-3 mb-3"},F=t("label",{for:"username",class:"form-label"},"Username",-1),H=["textContent"],J={class:"w-full px-3 mb-3"},K=t("label",{for:"email",class:"form-label"},"Email",-1),O=["textContent"],W={class:"w-full px-3 mb-3"},Q=t("label",{for:"birth-date",class:"form-label"},"Birthday",-1),X={class:"relative mx-auto"},Z={class:"absolute rounded-l w-10 h-full flex items-center justify-center bg-gray-100 border text-gray-600 dark:bg-dark-1 dark:border-dark-4"},ee=["textContent"],te={class:"flex justify-end gap-3"};function se(e,s,o,l,oe,re){const f=n("CalendarIcon"),g=n("Litepicker"),b=n("SubmitButton");return c(),h("div",E,[t("div",S,[e.globalLoading?U("",!0):(c(),h("div",V,[$,t("div",B,[t("div",I,[t("div",P,[t("div",D,[t("div",M,[t("div",Y,[t("img",{class:"rounded-md",alt:"Takk",src:e.user.avatar},null,8,N),t("input",{type:"file",hidden:"",id:"avatar-image",onChange:s[0]||(s[0]=r=>e.changeImage(r,"avatar"))},null,32)]),t("div",{class:"text-theme-6",textContent:a(e.getError("avatar"))},null,8,A),t("div",j,[t("button",{type:"button",onClick:s[1]||(s[1]=r=>e.clickInput("avatar-image")),class:"btn btn-primary w-full"}," Change Photo ")])])])]),t("form",{onSubmit:s[6]||(s[6]=k((...r)=>e.submit&&e.submit(...r),["prevent"])),class:"col-span-12 lg:col-span-8 2xl:col-span-9"},[t("div",z,[t("div",G,[R,i(t("input",{disabled:"",id:"phone",type:"text",class:m(["form-control",e.getError("phone")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Phone","onUpdate:modelValue":s[2]||(s[2]=r=>e.getUser.phone=r)},null,2),[[d,e.getUser.phone]]),t("div",{class:"text-theme-6",textContent:a(e.getError("phone"))},null,8,T)]),t("div",q,[F,i(t("input",{id:"username",type:"text",class:m(["form-control",e.getError("username")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Username","onUpdate:modelValue":s[3]||(s[3]=r=>e.user.username=r)},null,2),[[d,e.user.username]]),t("div",{class:"text-theme-6",textContent:a(e.getError("username"))},null,8,H)]),t("div",J,[K,i(t("input",{id:"email",type:"email",class:m(["form-control",e.getError("email")!=null?"border-theme-6":"border-gray-300"]),placeholder:"example@gmail.com","onUpdate:modelValue":s[4]||(s[4]=r=>e.user.email=r)},null,2),[[d,e.user.email]]),t("div",{class:"text-theme-6",textContent:a(e.getError("email"))},null,8,O)]),t("div",W,[Q,t("div",X,[t("div",Z,[u(f,{class:"w-4 h-4"})]),u(g,{modelValue:e.user.date_of_birthday,"onUpdate:modelValue":s[5]||(s[5]=r=>e.user.date_of_birthday=r),options:{autoApply:!1,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"form-control pl-12"},null,8,["modelValue"])]),t("div",{class:"text-theme-6",textContent:a(e.getError("date_of_birthday"))},null,8,ee)])]),t("div",te,[u(b,{"is-loading":e.isLoading},null,8,["is-loading"])])],32)])])]))])])}const le=_(L,[["render",se]]);export{le as default};
