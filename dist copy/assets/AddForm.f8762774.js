import{u as f,q as _,i as v,g as d,j as y,o as g,c as x,a as h,b as C,d as o,e as i,v as w,s as b}from"./index.c1d8041c.js";import{C as A,_ as B}from"./CafeInformation.0fd2faf8.js";import"./leaflet.ed97b7e6.js";const F=o("div",{class:"intro-y flex items-center mt-8"},[o("h2",{class:"text-lg font-medium mr-auto"},"Cafe Add Form")],-1),M={class:"grid grid-cols-12 gap-6"},N={class:"col-span-12 lg:col-span-8 2xl:col-span-9"},V={__name:"AddForm",setup(k){const m=f(),n=_(),l=v({location:{coordinates:[35.1234,-95.1234]},country:236,state:null,city:null,name:"",call_center:"",website:"",postal_code:"",address:"",second_address:"",description:"",photos:[]}),s=d({}),t=d(!1),c=y(()=>b.getters["adminCompany/getAdminSelectedCompanyID"]);g(()=>{c.value===0&&p()});async function u(r){var e;t.value=!0,s.value={},r.company=c.value;try{const a=await w(r);m.push("/admin/cafes/"+a.id),n.success()}catch(a){n.error(),s.value=(e=a.response)==null?void 0:e.data}finally{t.value=!1}}function p(){x("#company-select-modal").modal("show")}return(r,e)=>(h(),C("div",null,[F,o("div",M,[i(A,{"form-data":l,"external-errors":s.value},null,8,["form-data","external-errors"]),o("div",N,[i(B,{"form-data":l,"is-loading":t.value,"onUpdate:formData":e[0]||(e[0]=a=>u(a)),"external-errors":s.value},null,8,["form-data","is-loading","external-errors"])])])]))}};export{V as default};
