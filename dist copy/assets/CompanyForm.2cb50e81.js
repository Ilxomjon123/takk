import{aE as C,V as k,q as V,g as b,i as U,aF as S,r as D,a as E,b as A,d as e,e as c,J as N,G as d,H as i,y as n,t as a,C as F,D as I,S as M,E as B,w as P,U as w,I as T,f as $,aG as j,aH as q}from"./index.c1d8041c.js";import{S as G}from"./SimpleImageUpload.74eb2152.js";const H={class:"col-span-12 lg:col-span-9 2xl:col-span-9"},L={class:"intro-y box"},O=e("div",{class:"flex items-center p-5 border-b border-gray-200 dark:border-dark-5"},[e("h2",{class:"font-medium text-base mr-auto"},"Information")],-1),z={class:"p-5"},J={class:"grid grid-cols-12 gap-6"},R={class:"col-span-12 lg:col-span-4 2xl:col-span-3 flex lg:block flex-col-reverse"},W={class:"intro-y"},K=e("label",{class:"form-label"},"Company Logo",-1),Q=["onSubmit"],X={class:"flex flex-wrap -mx-3 mb-3"},Y={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Z=e("label",{for:"company-name",class:"form-label"},[$(" Company Name "),e("span",{class:"text-theme-6"},"*")],-1),ee=["textContent"],te={class:"w-full md:w-1/2 px-3 md:mb-0"},se=e("label",{for:"phone",class:"form-label"},"Phone",-1),oe=["textContent"],le={class:"flex flex-wrap -mx-3 mb-3"},ae={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},ne=e("label",{for:"company-email",class:"form-label"},"Email",-1),de=["textContent"],ce={class:"w-full md:w-1/2 px-3 md:mb-0"},ie=e("label",{for:"website",class:"form-label"},"Website",-1),re=["textContent"],me={class:"flex flex-wrap -mx-3 mb-1"},pe={class:"w-full px-3 md:mb-0 md:w-1/3"},ue=e("label",{class:"form-label"},"Country",-1),_e=["textContent"],be={class:"w-full px-3 mb-3 md:w-1/3 md:mb-0"},he=e("label",{for:"state",class:"form-label"},"State",-1),xe=["textContent"],fe={class:"w-full px-3 md:mb-0 md:w-1/3"},we=e("label",{class:"form-label"},"City",-1),ve=["textContent"],ye={class:"flex flex-wrap -mx-3 mb-3"},ge={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Ce=e("label",{for:"postal-code",class:"form-label"},"Postal Code",-1),ke=["textContent"],Ve={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Ue=e("label",{for:"address",class:"form-label"},"Address",-1),Se=["textContent"],De={class:"flex flex-wrap -mx-3 md:mb-5"},Ee={class:"w-full md:w-1/2 px-3 md:mb-0"},Ae=e("label",{for:"second-address",class:"form-label"},"Additional address line",-1),Ne=["textContent"],Fe={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Ie=e("label",{for:"cashback",class:"form-label"},"Cashback Percent",-1),Me={class:"input-group"},Be=e("div",{id:"input-group-percent",class:"input-group-text"},"%",-1),Pe=e("option",{value:"10"},"10",-1),Te=e("option",{value:"5"},"5",-1),$e=["textContent"],je={class:"flex flex-wrap -mx-3 mb-3"},qe={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Ge={class:"form-check w-full sm:w-auto mt-3 sm:mt-0"},He=e("label",{for:"show-example-5"},"Make customer reviews public",-1),Le={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Oe={class:"form-check w-full sm:w-auto mt-3 sm:mt-0"},ze=e("label",{for:"show-example-6"},"Make customer likes/dislikes public",-1),Je={class:"mb-5"},Re=e("label",{for:"about",class:"form-label"},"About",-1),We=["textContent"],Ke={class:"flex justify-end gap-3"},Ze={__name:"CompanyForm",setup(Qe){var x,f;const{getSelected:v}=C(),y=k(),h=V(),p=b(null),u=b(!1),m=b(null);(f=(x=y.query)==null?void 0:x.id)!=null;const s=U({name:"",phone:"",email:"",website:"",country:236,country_code:"US",state:"",city:"",address:"",second_address:"",postal_code:"",cashback_percent:10,pub_show_reviews:"",pub_show_like:"",about:""});S(()=>{Object.assign(s,v.value)});async function g(){var r;try{u.value=!0,m.value=null;const t=new FormData;p.value&&t.append("logo",p.value),t.append("name",s.name),t.append("phone",s.phone),t.append("phone_code",s.phone_code),t.append("email",s.email),t.append("website",s.website),t.append("country",s.country),t.append("country_code",s.country_code||"US"),t.append("state",s.state),t.append("city",s.city),t.append("address",s.address),t.append("second_address",s.second_address),t.append("postal_code",s.postal_code),t.append("cashback_percent",s.cashback_percent),t.append("pub_show_reviews",s.pub_show_reviews),t.append("pub_show_like",s.pub_show_like),t.append("about",s.about);const _=s.id?await j(s.id,t):q(t);Object.assign(s,_),h.success()}catch(t){m.value=(r=t.response)==null?void 0:r.data,h.error()}finally{u.value=!1}}function l(r){var t;return m.value&&((t=m.value[r])==null?void 0:t[0])}return(r,t)=>{const _=D("TomSelect");return E(),A("div",H,[e("div",L,[O,e("div",z,[e("div",J,[e("div",R,[e("div",W,[K,c(G,{title:s.logo?"Change photo":"Add photo","image-path":s.logo,onUpdateImageFile:t[0]||(t[0]=o=>p.value=o)},null,8,["title","image-path"])])]),e("form",{onSubmit:N(g,["prevent"]),class:"col-span-12 lg:col-span-8 2xl:col-span-9"},[e("div",X,[e("div",Y,[Z,d(e("input",{id:"company-name",type:"text",class:n(["form-control",l("name")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Company Name","onUpdate:modelValue":t[1]||(t[1]=o=>s.name=o)},null,2),[[i,s.name]]),e("div",{class:"text-theme-6",textContent:a(l("name"))},null,8,ee)]),e("div",te,[se,c(F,{"phone-number":s.phone,"onUpdate:phone-number":t[2]||(t[2]=o=>s.phone=o),"dial-code":s.phone_code,"onUpdate:dial-code":t[3]||(t[3]=o=>s.phone_code=o)},null,8,["phone-number","dial-code"]),e("div",{class:"text-theme-6",textContent:a(l("phone"))},null,8,oe)])]),e("div",le,[e("div",ae,[ne,d(e("input",{id:"company-email",type:"email",class:n(["form-control",l("email")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Email","onUpdate:modelValue":t[4]||(t[4]=o=>s.email=o)},null,2),[[i,s.email]]),e("div",{class:"text-theme-6",textContent:a(l("email"))},null,8,de)]),e("div",ce,[ie,d(e("input",{id:"website",type:"text",class:n(["form-control",l("website")!=null?"border-theme-6":"border-gray-300"]),placeholder:"https://example.com","onUpdate:modelValue":t[5]||(t[5]=o=>s.website=o)},null,2),[[i,s.website]]),e("div",{class:"text-theme-6",textContent:a(l("website"))},null,8,re)])]),e("div",me,[e("div",pe,[ue,c(I,{class:n(l("country")!=null?"border-theme-6":"border-gray-300"),modelValue:s.country,"onUpdate:modelValue":t[6]||(t[6]=o=>s.country=o)},null,8,["class","modelValue"]),e("div",{class:"text-theme-6 mt-2",textContent:a(l("country"))},null,8,_e)]),e("div",be,[he,c(M,{modelValue:s.state,"onUpdate:modelValue":t[7]||(t[7]=o=>s.state=o),id:"state"},null,8,["modelValue"]),e("div",{class:"text-theme-6",textContent:a(l("state"))},null,8,xe)]),e("div",fe,[we,c(B,{class:n(l("city")!=null?"border-theme-6":"border-gray-300"),modelValue:s.city,"onUpdate:modelValue":t[8]||(t[8]=o=>s.city=o)},null,8,["class","modelValue"]),e("div",{class:"text-theme-6 mt-2",textContent:a(l("city"))},null,8,ve)])]),e("div",ye,[e("div",ge,[Ce,d(e("input",{id:"postal-code",class:n(["form-control",l("postal_code")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Postal Code","onUpdate:modelValue":t[9]||(t[9]=o=>s.postal_code=o)},null,2),[[i,s.postal_code]]),e("div",{class:"text-theme-6",textContent:a(l("postal_code"))},null,8,ke)]),e("div",Ve,[Ue,d(e("input",{id:"address",type:"text",class:n(["form-control",l("address")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Address","onUpdate:modelValue":t[10]||(t[10]=o=>s.address=o)},null,2),[[i,s.address]]),e("div",{class:"text-theme-6",textContent:a(l("address"))},null,8,Se)])]),e("div",De,[e("div",Ee,[Ae,d(e("input",{id:"second-address",type:"text",class:n(["form-control",l("second_address")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Additional address line","onUpdate:modelValue":t[11]||(t[11]=o=>s.second_address=o)},null,2),[[i,s.second_address]]),e("div",{class:"text-theme-6 mt-2",textContent:a(l("second_address"))},null,8,Ne)]),e("div",Fe,[Ie,e("div",Me,[Be,c(_,{id:"cashback",class:n(["w-full",l("cashback_percent")!=null?"border-theme-6":"border-gray-300"]),modelValue:s.cashback_percent,"onUpdate:modelValue":t[12]||(t[12]=o=>s.cashback_percent=o),"aria-describedby":"input-group-percent"},{default:P(()=>[Pe,Te]),_:1},8,["class","modelValue"]),e("div",{class:"text-theme-6 mt-2",textContent:a(l("cashback_percent"))},null,8,$e)])])]),e("div",je,[e("div",qe,[e("div",Ge,[d(e("input",{id:"show-example-5","data-target":"#select-options",class:"show-code form-check-switch mr-3 ml-0",type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=o=>s.pub_show_reviews=o)},null,512),[[w,s.pub_show_reviews]]),He])]),e("div",Le,[e("div",Oe,[d(e("input",{id:"show-example-6","data-target":"#select-options",class:"show-code form-check-switch mr-3 ml-0",type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=o=>s.pub_show_like=o)},null,512),[[w,s.pub_show_like]]),ze])])]),e("div",Je,[Re,d(e("textarea",{id:"about",class:n(["form-control",l("about")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Describe your company","onUpdate:modelValue":t[15]||(t[15]=o=>s.about=o)},null,2),[[i,s.about]]),e("div",{class:"text-theme-6",textContent:a(l("about"))},null,8,We)]),e("div",Ke,[c(T,{"is-loading":u.value},null,8,["is-loading"])])],40,Q)])])])])}}};export{Ze as default};
