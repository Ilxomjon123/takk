import{_ as X}from"./MenuList.4f718c8a.js";import{_ as A,g as w,r as g,a,b as u,d as t,e,w as x,t as i,x as v,n as I,s as h,c as C,p as R,h as N,i as Z,j as tt,R as et,F as $,l as z,A as T,G as ot,ad as st,f as O}from"./index.c1d8041c.js";import{M as at}from"./MainPaginator.c8762902.js";import{_ as F}from"./DeleteConfirmModal.8e1bb800.js";import{D as G}from"./vuedraggable.umd.33421fb2.js";import"./Pagination.2cb0858d.js";const Y=s=>(R("data-v-77c1137a"),s=s(),N(),s),nt={id:"draggable-category-type-modal",class:"modal",tabindex:"-1","aria-hidden":"true"},dt={class:"modal-dialog"},it={class:"modal-content"},rt=Y(()=>t("div",{class:"modal-header"},[t("h2",{class:"font-medium text-base mr-auto"},"Reorder items")],-1)),lt={class:"modal-body p-10"},ct={class:"flex gap-3"},_t={class:"ml-auto"},ut={class:"modal-footer text-right"},mt=Y(()=>t("button",{type:"button","data-dismiss":"modal",class:"btn btn-outline-secondary mr-1"}," Cancel ",-1)),pt=["disabled"],ht={key:1},gt={__name:"DraggableTypeModal",props:{list:Array,paginator:Object},setup(s){const l=s,p=w(!1),n=w(!1);async function y(){n.value=!0;try{const d=await h.dispatch("updateModifierTypePositions",{obj_type:"product_category",obj_list:l.list.map((c,b)=>{var f,_;return{id:c.id,position:b+1+(((f=l.paginator)==null?void 0:f.page)-1)*((_=l.paginator)==null?void 0:_.limit)}})});p.value=!1,C("#draggable-category-type-modal").modal("hide")}catch(d){console.log(d)}finally{n.value=!1}}return(d,c)=>{const b=g("AlignJustifyIcon"),f=g("LoadingIcon");return a(),u("div",nt,[t("div",dt,[t("div",it,[rt,t("div",lt,[e(v(G),{tag:"ul",list:s.list,handle:".handle","item-key":"id",onChange:c[0]||(c[0]=_=>p.value=!0)},{item:x(({element:_,index:k})=>[t("li",ct,[e(b,{class:"handle"}),t("span",null,i(_.name),1),t("span",_t,i(_.position),1)])]),_:1},8,["list"])]),t("div",ut,[mt,t("button",{type:"button",class:"btn btn-primary",onClick:y,disabled:!p.value||n.value},[n.value?(a(),I(f,{key:0,icon:"three-dots",color:"white",class:"my-2 mx-1"})):(a(),u("span",ht,"Save positions"))],8,pt)])])])])}}},bt=A(gt,[["__scopeId","data-v-77c1137a"]]);const q=s=>(R("data-v-d24950b6"),s=s(),N(),s),ft={id:"draggable-category-item-modal",class:"modal",tabindex:"-1","aria-hidden":"true"},vt={class:"modal-dialog"},wt={class:"modal-content"},yt=q(()=>t("div",{class:"modal-header"},[t("h2",{class:"font-medium text-base mr-auto"},"Reorder items")],-1)),kt={class:"modal-body p-10"},xt={class:"flex gap-3"},It={class:"ml-auto"},$t={class:"modal-footer text-right"},Ct=q(()=>t("button",{type:"button","data-dismiss":"modal",class:"btn btn-outline-secondary mr-1"}," Cancel ",-1)),Mt=["disabled"],St={key:1},Lt={__name:"DraggableItemModal",props:{list:Array},setup(s){const l=s,p=w(!1),n=w(!1);async function y(){n.value=!0;try{const d=await h.dispatch("updateModifierTypePositions",{obj_type:"product_category",obj_list:l.list.map((c,b)=>({id:c.id,position:b+1}))});p.value=!1,C("#draggable-category-item-modal").modal("hide")}catch(d){console.log(d)}finally{n.value=!1}}return(d,c)=>{const b=g("AlignJustifyIcon"),f=g("LoadingIcon");return a(),u("div",ft,[t("div",vt,[t("div",wt,[yt,t("div",kt,[e(v(G),{tag:"ul",list:s.list,handle:".handle","item-key":"id",onChange:c[0]||(c[0]=_=>p.value=!0)},{item:x(({element:_,index:k})=>[t("li",xt,[e(b,{class:"handle"}),t("span",null,i(_.name),1),t("span",It,i(_.position),1)])]),_:1},8,["list"])]),t("div",$t,[Ct,t("button",{type:"button",class:"btn btn-primary",onClick:y,disabled:!p.value||n.value},[n.value?(a(),I(f,{key:0,icon:"three-dots",color:"white",class:"my-2 mx-1"})):(a(),u("span",St,"Save positions"))],8,Mt)])])])])}}},Dt=A(Lt,[["__scopeId","data-v-d24950b6"]]);const M=s=>(R("data-v-ae687bee"),s=s(),N(),s),Tt={key:0},At={class:"intro-y flex flex-col sm:flex-row items-center mt-10"},Rt=M(()=>t("h2",{class:"text-lg font-medium"},"Categories List",-1)),Nt={class:"w-full sm:w-auto flex mt-4 sm:mt-0"},Ot=O("Add Category "),Et={class:"dropdown inline-block","data-placement":"right-start"},Pt={class:"dropdown-toggle","aria-expanded":"false"},Vt={class:"dropdown-menu w-fit"},jt={class:"dropdown-menu__content box dark:bg-dark-1 p-2"},Bt=["disabled"],Jt=M(()=>t("span",{class:"whitespace-nowrap"},"Reorder Categories",-1)),zt=["disabled"],Ft=M(()=>t("span",{class:"whitespace-nowrap"},"Reorder Category Items",-1)),Gt={class:"intro-y col-span-12 overflow-auto lg:overflow-visible"},Yt={class:"table table-report -mt-2"},qt=M(()=>t("thead",null,[t("tr",null,[t("th",{class:"whitespace-nowrap"},"LOGO"),t("th",{class:"whitespace-nowrap"},"NAME"),t("th",{class:"whitespace-nowrap"},"PARENT CATEGORY"),t("th",{class:"whitespace-nowrap"},"POSITION"),t("th",{class:"whitespace-nowrap"},"START"),t("th",{class:"whitespace-nowrap"},"END"),t("th",{class:"whitespace-nowrap text-right w-5"},"ACTIONS")])],-1)),Ht={class:"zoom-in"},Kt={class:"w-1/12"},Qt={class:"w-10 h-10 image-fit zoom-in"},Ut=["src"],Wt=["onClick"],Xt={class:"ml-3 font-medium whitespace-nowrap"},Zt={class:"table-report__action"},te={class:"dropdown inline-block","data-placement":"right-start"},ee={class:"dropdown-toggle -mr-3","aria-expanded":"false"},oe={class:"dropdown-menu w-40"},se={class:"dropdown-menu__content box dark:bg-dark-1 p-2"},ae=O("Edit "),ne={"data-dismiss":"dropdown",class:"flex items-center cursor-pointer p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},de={class:"w-10"},ie={class:"w-10 h-10 image-fit zoom-in ml-10"},re=["src"],le={href:"",class:"font-medium whitespace-nowrap"},ce={class:"text-gray-600 text-xs whitespace-nowrap mt-0.5"},_e={class:"table-report__action"},ue={class:"dropdown inline-block","data-placement":"right-start"},me={class:"dropdown-toggle -mr-3","aria-expanded":"false"},pe={class:"dropdown-menu w-40"},he={class:"dropdown-menu__content box dark:bg-dark-1 p-2"},ge=O("Edit "),be={"data-dismiss":"dropdown",class:"flex items-center cursor-pointer p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},fe={key:1,class:"text-base text-center mt-10 text-gray-600"},ve={__name:"CategoryList",setup(s){const l=w([]),p=Z({}),n=w([]),y=w(null),d=tt(()=>h.getters.getSelectedMenuId);et(()=>d.value,r=>{c()},{deep:!0,immediate:!0});function c(){var r;h.commit("setLoadingStatus",!0),(r=y.value)==null||r.paginate(1),h.commit("setLoadingStatus",!1)}function b(r){l.value=r}async function f(r){h.commit("setLoadingStatus",!0),(await h.dispatch("deleteCategory",r)).status?(h.commit("setSuccessNotification",!0),c()):h.commit("setErrorNotification",!0),h.commit("setLoadingStatus",!1)}function _(r){k(r)?n.value=[]:n.value=[r]}function k(r){return n.value.includes(r)}function H(){C("#draggable-category-type-modal").modal("show")}function K(){C("#draggable-category-item-modal").modal("show")}return(r,S)=>{var j,B;const E=g("PlusIcon"),L=g("router-link"),D=g("MoreVerticalIcon"),P=g("ShuffleIcon"),Q=g("MinusIcon"),V=g("Edit2Icon");return a(),u($,null,[v(d)!=null?(a(),u("div",Tt,[t("div",At,[Rt,t("div",Nt,[e(L,{to:v(d)!=null?`/dashboard/categories/${v(d)}/add`:"",class:"btn btn-primary ml-3"},{default:x(()=>[e(E,{class:"w-4 h-4 mr-3"}),Ot]),_:1},8,["to"])]),t("div",Et,[t("button",Pt,[e(D)]),t("div",Vt,[t("div",jt,[t("button",{class:"flex items-center p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md w-full",onClick:H,disabled:l.value.length<2,"data-toggle":"dropdown"},[e(P,{class:"w-4 h-4 mr-3"}),Jt],8,Bt),t("button",{class:"flex items-center p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md w-full cursor-pointer disabled:cursor-not-allowed",onClick:K,disabled:n.value.length===0,"data-toggle":"dropdown"},[e(P,{class:"w-4 h-4 mr-3"}),Ft],8,zt)])])])]),t("div",Gt,[t("table",Yt,[qt,t("tbody",null,[(a(!0),u($,null,z(l.value,(o,U)=>(a(),u($,{key:U},[t("tr",Ht,[t("td",Kt,[t("div",Qt,[t("img",{alt:"Takk",class:"rounded-full",src:o.image},null,8,Ut)])]),t("td",{class:"hover:text-theme-9",onClick:m=>_(o.id)},[k(o.id)?T("",!0):(a(),I(E,{key:0})),k(o.id)?(a(),I(Q,{key:1})):T("",!0),t("span",Xt,i(o.name),1)],8,Wt),t("td",null,i(o.parent),1),t("td",null,i(o.position),1),t("td",null,i(o.start),1),t("td",null,i(o.end),1),t("td",Zt,[t("div",te,[t("button",ee,[e(D)]),t("div",oe,[t("div",se,[e(L,{to:`/dashboard/categories/${v(d)}/${o.id}`,"data-dismiss":"dropdown",class:"flex items-center p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},{default:x(()=>[e(V,{class:"w-4 h-4 mr-2"}),ae]),_:2},1032,["to"]),t("a",ne,[e(F,{onOnConfirmedDelete:m=>f(o.id),isIcon:!0,modalId:"category-delete-modal-"+o.id,iconClass:"w-4 h-4 mr-2"},null,8,["onOnConfirmedDelete","modalId"])])])])])])]),(a(!0),u($,null,z(o.children,(m,W)=>{var J;return ot((a(),u("tr",{class:"inner-tr",key:W},[t("td",de,[t("div",ie,[t("img",{alt:"Takk",class:"rounded-full",src:m.image},null,8,re)])]),t("td",null,[t("a",le,i(m.name),1),t("div",ce,i((J=m.category)==null?void 0:J.name),1)]),t("td",null,i(o.name),1),t("td",null,i(m.position),1),t("td",null,i(m.start),1),t("td",null,i(m.end),1),t("td",_e,[t("div",ue,[t("button",me,[e(D)]),t("div",pe,[t("div",he,[e(L,{to:`/dashboard/categories/${v(d)}/${m.id}`,"data-dismiss":"dropdown",class:"flex items-center p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},{default:x(()=>[e(V,{class:"w-4 h-4 mr-3"}),ge]),_:2},1032,["to"]),t("a",be,[e(F,{onOnConfirmedDelete:ye=>f(m.id),isIcon:!0,modalId:`category-delete-modal-${o.id}-${m.id}`,iconClass:"w-4 h-4 mr-2"},null,8,["onOnConfirmedDelete","modalId"])])])])])])])),[[st,k(o.id)]])}),128))],64))),128))])])]),v(d)!="null"&&v(d)?(a(),I(at,{key:0,class:"mt-5",dispatcher:"fetchCategories",ref_key:"paginator",ref:y,onSetItems:S[0]||(S[0]=o=>b(o)),form:p},null,8,["form"])):T("",!0)])):(a(),u("div",fe," For showing Categories Please select Menu ")),e(bt,{list:l.value,paginator:{...(j=r.$refs.paginator)==null?void 0:j.paginator}},null,8,["list","paginator"]),e(Dt,{list:(B=l.value.find(o=>n.value.length>0&&o.id==n.value[0]))==null?void 0:B.children},null,8,["list"])],64)}}},we=A(ve,[["__scopeId","data-v-ae687bee"]]),Se={__name:"Main",setup(s){return(l,p)=>(a(),u("div",null,[e(X,{"sub-item-title":"Categories","sub-item-value":"product_category_count"}),e(we)]))}};export{Se as default};
