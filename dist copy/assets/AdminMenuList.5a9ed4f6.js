import{q as z,i as F,g as o,j as P,k as q,s as c,r as i,a as m,b as _,d as e,e as n,F as w,l as O,y as G,x as H,t as M,f as h,c as p}from"./index.c1d8041c.js";import{_ as J,a as K}from"./vuedraggable.umd.33421fb2.js";const Q={class:"intro-y flex flex-col sm:flex-row items-center mt-5 gap-5"},R=e("h2",{class:"text-lg font-medium"},"Menus List",-1),U={class:"flex items-center justify-center"},W=h(" Add Menu "),X={class:"grid grid-cols-12 gap-5 mt-5"},Y={class:"flex col-span-12 w-full"},Z=["onClick"],ee={class:"dropdown inline-block","data-placement":"right-start"},te={class:"dropdown-toggle -mr-3","aria-expanded":"false"},se={class:"dropdown-menu w-40"},ne={class:"dropdown-menu__content box dark:bg-dark-1 p-2"},oe=["onClick"],ae=h(" Edit"),ce=["onClick"],ie=h(" Delete"),re={class:"flex"},de={class:"mr-auto text-gray-600"},_e={__name:"AdminMenuList",props:{subItemTitle:String,subItemValue:String},emits:["update-id"],async setup(g,{emit:x}){let f,v;const r=z(),a=F({current_page_size:10,limit:100,links:{next:"",previous:""},page:1,total_objects:51,total_pages:6,results:[]}),d=o("adminMenu/postMenu"),y=o("adminMenu/postMenu"),I=o("adminMenu/putMenu"),l=o({}),b=o(null),C=P(()=>c.getters.getSelectedMenuId);[f,v]=q(()=>u()),await f,v();function D(t){c.commit("setSelectedMenuId",t),x("update-id",t)}function V(){l.value={},d.value=y.value,p("#menu-add-edit-modal").modal("show")}function j(t){d.value=I.value,l.value=t,p("#menu-add-edit-modal").modal("show")}function E(t){b.value=t,p("#confirm-deletion-modal").modal("show")}async function S(){try{await c.dispatch("adminMenu/deleteMenu",b.value),await u(),r.success("Menu item removed successfully!")}catch(t){r.error("Error while removing menu: "+t.message)}}async function u(){try{const t=await c.dispatch("adminMenu/fetchMenus",{page:a.page,limit:a.limit});Object.assign(a,t)}catch(t){r.error("Error while fetching data: "+t.message)}}function T(){u()}return(t,le)=>{const $=i("PlusIcon"),L=i("MoreVerticalIcon"),N=i("Edit2Icon"),A=i("TrashIcon");return m(),_(w,null,[e("div",null,[e("div",Q,[R,e("button",{class:"btn btn-primary",onClick:V},[e("span",U,[n($,{class:"h-4 w-4 mr-3"})]),W])]),e("div",X,[(m(!0),_(w,null,O(a.results,(s,B)=>(m(),_("div",{class:G(["col-span-12 sm:col-span-4 xl:col-span-3 2xl:col-span-2 box p-5",s.id==H(C)?"bg-theme-1 dark:bg-theme-1 text-white":""]),key:B},[e("div",Y,[e("div",{class:"mr-auto font-medium text-base cursor-pointer",onClick:k=>D(s.id)},M(s.name),9,Z),e("div",ee,[e("button",te,[n(L)]),e("div",se,[e("div",ne,[e("a",{href:"javascript:void(0);",onClick:k=>j(s),"data-dismiss":"dropdown",class:"flex cursor-pointer items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},[e("span",null,[n(N,{class:"w-4 h-4 mr-2"}),ae])],8,oe),e("a",{href:"javascript:void(0);",onClick:k=>E(s.id),"data-dismiss":"dropdown",class:"flex cursor-pointer items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},[e("span",null,[n(A,{class:"w-4 h-4 mr-2"}),ie])],8,ce)])])])]),e("div",re,[e("div",de,M(g.subItemTitle+": "+s[g.subItemValue]),1)])],2))),128))])]),n(J,{dispatcher:d.value,item:l.value,onSubmitted:T},null,8,["dispatcher","item"]),n(K,{onConfirm:S})],64)}}};export{_e as _};
