import{_ as F,a as P}from"./vuedraggable.umd.33421fb2.js";import{q,g as n,j as z,k as G,s as o,r as c,a as l,b as u,d as e,e as a,F as w,l as H,y as J,x as K,t as x,f as _,c as m}from"./index.c1d8041c.js";const O={class:"intro-y flex flex-col sm:flex-row items-center mt-5 gap-5"},Q=e("h2",{class:"text-lg font-medium"},"Menus List",-1),R={class:"flex items-center justify-center"},U=_(" Add Menu "),W={class:"grid grid-cols-12 gap-5 mt-5"},X={class:"flex col-span-12 w-full"},Y=["onClick"],Z={class:"dropdown inline-block","data-placement":"right-start"},ee={class:"dropdown-toggle -mr-3","aria-expanded":"false"},te={class:"dropdown-menu w-40"},se={class:"dropdown-menu__content box dark:bg-dark-1 p-2"},ne=["onClick"],oe=_(" Edit"),ae=["onClick"],ce=_(" Delete"),ie={class:"flex"},ue={__name:"MenuList",props:{subItemTitle:String,subItemValue:String},emits:["update-id"],async setup(p,{emit:M}){let h,f;const v=q(),g=n([]),i=n("postMenu"),y=n("postMenu"),I=n("putMenu"),d=n({}),b=n(null),C=z(()=>o.getters.getSelectedMenuId);[h,f]=G(()=>r()),await h,f();function D(t){o.commit("setSelectedMenuId",t),M("update-id",t)}function S(){d.value={},i.value=y.value,m("#menu-add-edit-modal").modal("show")}function V(t){i.value=I.value,d.value=t,m("#menu-add-edit-modal").modal("show")}function L(t){b.value=t,m("#confirm-deletion-modal").modal("show")}async function E(){try{await o.dispatch("deleteMenu",b.value),await r(),v.success("Menu item removed successfully!")}catch(t){v.error("Error while removing menu: "+t.message)}}async function r(){o.commit("setLoadingStatus",!0);const t=await o.dispatch("fetchMenus");g.value=t.results,o.commit("setLoadingStatus",!1)}async function T(){await r()}return(t,de)=>{const $=c("PlusIcon"),j=c("MoreVerticalIcon"),N=c("Edit2Icon"),B=c("TrashIcon");return l(),u(w,null,[e("div",null,[e("div",O,[Q,e("button",{class:"btn btn-primary",onClick:S},[e("span",R,[a($,{class:"h-4 w-4 mr-3"})]),U])]),e("div",W,[(l(!0),u(w,null,H(g.value,(s,A)=>(l(),u("div",{class:J(["col-span-12 sm:col-span-4 xl:col-span-3 2xl:col-span-2 box p-5",s.id==K(C)?"bg-theme-31 dark:bg-theme-31 text-white":""]),key:A},[e("div",X,[e("div",{class:"mr-auto font-medium text-base cursor-pointer",onClick:k=>D(s.id)},x(s.name),9,Y),e("div",Z,[e("button",ee,[a(j)]),e("div",te,[e("div",se,[e("a",{href:"javascript:void(0);",onClick:k=>V(s),"data-dismiss":"dropdown",class:"flex cursor-pointer items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},[e("span",null,[a(N,{class:"w-4 h-4 mr-2"}),oe])],8,ne),e("a",{href:"javascript:void(0);",onClick:k=>L(s.id),"data-dismiss":"dropdown",class:"flex cursor-pointer items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"},[e("span",null,[a(B,{class:"w-4 h-4 mr-2"}),ce])],8,ae)])])])]),e("div",ie,[e("div",null,x(p.subItemTitle+": "+s[p.subItemValue]),1)])],2))),128))])]),a(F,{dispatcher:i.value,item:d.value,onSubmitted:T},null,8,["dispatcher","item"]),a(P,{onConfirm:E})],64)}}};export{ue as _};
