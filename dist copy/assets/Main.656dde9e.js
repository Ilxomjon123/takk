import{q as y,g as h,j as g,r as C,a as k,b as V,d as e,e as r,x as l,J as U,G as c,H as m,y as i,t as d,C as S,D as M,S as A,E as D,w as N,U as f,I as E,f as I,s as v}from"./index.c1d8041c.js";import{S as P}from"./SimpleImageUpload.74eb2152.js";const T={class:"col-span-12 lg:col-span-9 2xl:col-span-9"},$={class:"intro-y box"},B=e("div",{class:"flex items-center p-5 border-b border-gray-200 dark:border-dark-5"},[e("h2",{class:"font-medium text-base mr-auto"},"Information")],-1),j={class:"p-5"},q={class:"grid grid-cols-12 gap-6"},F={class:"col-span-12 lg:col-span-4 2xl:col-span-3 flex lg:block flex-col-reverse"},L={class:"intro-y"},z=e("label",{class:"form-label"},"Company Logo",-1),G=["onSubmit"],H={class:"flex flex-wrap -mx-3 mb-3"},J={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},W=e("label",{for:"company-name",class:"form-label"},[I(" Company Name "),e("span",{class:"text-theme-6"},"*")],-1),K=["textContent"],O={class:"w-full md:w-1/2 px-3 md:mb-0"},Q=e("label",{for:"phone",class:"form-label"},"Phone",-1),R=["textContent"],X={class:"flex flex-wrap -mx-3 mb-3"},Y={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Z=e("label",{for:"company-email",class:"form-label"},"Email",-1),ee=["textContent"],te={class:"w-full md:w-1/2 px-3 md:mb-0"},se=e("label",{for:"website",class:"form-label"},"Website",-1),oe=["textContent"],le={class:"flex flex-wrap -mx-3 mb-1"},ae={class:"w-full px-3 md:mb-0 md:w-1/3"},ne=e("label",{class:"form-label"},"Country",-1),de=["textContent"],ie={class:"w-full px-3 mb-3 md:w-1/3 md:mb-0"},ce=e("label",{for:"state",class:"form-label"},"State",-1),re=["textContent"],me={class:"w-full px-3 md:mb-0 md:w-1/3"},pe=e("label",{class:"form-label"},"City",-1),ue=["textContent"],_e={class:"flex flex-wrap -mx-3 mb-3"},be={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},he=e("label",{for:"postal-code",class:"form-label"},"Postal Code",-1),xe=["textContent"],fe={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},ve=e("label",{for:"address",class:"form-label"},"Address",-1),we=["textContent"],ye={class:"flex flex-wrap -mx-3 md:mb-5"},ge={class:"w-full md:w-1/2 px-3 md:mb-0"},Ce=e("label",{for:"second-address",class:"form-label"},"Additional address line",-1),ke=["textContent"],Ve={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Ue=e("label",{for:"cashback",class:"form-label"},"Cashback Percent",-1),Se={class:"input-group"},Me=e("div",{id:"input-group-percent",class:"input-group-text"},"%",-1),Ae=e("option",{value:"10"},"10",-1),De=e("option",{value:"5"},"5",-1),Ne=["textContent"],Ee={class:"flex flex-wrap -mx-3 mb-3"},Ie={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Pe={class:"form-check w-full sm:w-auto mt-3 sm:mt-0"},Te=e("label",{for:"show-example-5"},"Make customer reviews public",-1),$e={class:"w-full md:w-1/2 px-3 mb-3 md:mb-0"},Be={class:"form-check w-full sm:w-auto mt-3 sm:mt-0"},je=e("label",{for:"show-example-6"},"Make customer likes/dislikes public",-1),qe={class:"mb-5"},Fe=e("label",{for:"about",class:"form-label"},"About",-1),Le=["textContent"],ze={class:"flex justify-end gap-3"},We={__name:"Main",setup(Ge){const x=y(),_=h(null),b=h(!1),u=h(null),t=g(()=>v.getters.getCompany);t.value.cashback_percent==null&&(t.value.cashback_percent=10);async function w(){var p,s;try{b.value=!0,u.value=null;const n=new FormData;_.value&&n.append("logo",_.value),n.append("name",t.value.name),n.append("phone",t.value.phone),n.append("phone_code",t.value.phone_code),n.append("email",t.value.email),n.append("website",t.value.website),n.append("country",t.value.country),n.append("country_code",t.value.country_code||"US"),n.append("state",t.value.state),n.append("city",t.value.city),n.append("address",t.value.address),n.append("second_address",t.value.second_address),n.append("postal_code",t.value.postal_code),n.append("cashback_percent",t.value.cashback_percent),n.append("pub_show_reviews",t.value.pub_show_reviews),n.append("pub_show_like",t.value.pub_show_like),n.append("about",t.value.about);const o=await v.dispatch("putCompany",{form:n,id:t.value.id});x.success()}catch(n){x.error(),u.value=(s=(p=n.response)==null?void 0:p.data)==null?void 0:s.errors}finally{b.value=!1}}function a(p){var s;return u.value&&((s=u.value[p])==null?void 0:s[0])}return(p,s)=>{const n=C("TomSelect");return k(),V("div",T,[e("div",$,[B,e("div",j,[e("div",q,[e("div",F,[e("div",L,[z,r(P,{title:l(t).logo?"Change photo":"Add photo","image-path":l(t).logo,onUpdateImageFile:s[0]||(s[0]=o=>_.value=o)},null,8,["title","image-path"])])]),e("form",{onSubmit:U(w,["prevent"]),class:"col-span-12 lg:col-span-8 2xl:col-span-9"},[e("div",H,[e("div",J,[W,c(e("input",{id:"company-name",type:"text",class:i(["form-control",a("name")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Company Name","onUpdate:modelValue":s[1]||(s[1]=o=>l(t).name=o),required:""},null,2),[[m,l(t).name]]),e("div",{class:"text-theme-6",textContent:d(a("name"))},null,8,K)]),e("div",O,[Q,r(S,{"phone-number":l(t).phone,"onUpdate:phone-number":s[2]||(s[2]=o=>l(t).phone=o),"dial-code":l(t).phone_code,"onUpdate:dial-code":s[3]||(s[3]=o=>l(t).phone_code=o)},null,8,["phone-number","dial-code"]),e("div",{class:"text-theme-6",textContent:d(a("phone"))},null,8,R)])]),e("div",X,[e("div",Y,[Z,c(e("input",{id:"company-email",type:"email",class:i(["form-control",a("email")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Email","onUpdate:modelValue":s[4]||(s[4]=o=>l(t).email=o)},null,2),[[m,l(t).email]]),e("div",{class:"text-theme-6",textContent:d(a("email"))},null,8,ee)]),e("div",te,[se,c(e("input",{id:"website",type:"text",class:i(["form-control",a("website")!=null?"border-theme-6":"border-gray-300"]),placeholder:"https://example.com","onUpdate:modelValue":s[5]||(s[5]=o=>l(t).website=o)},null,2),[[m,l(t).website]]),e("div",{class:"text-theme-6",textContent:d(a("website"))},null,8,oe)])]),e("div",le,[e("div",ae,[ne,r(M,{class:i(a("country")!=null?"border-theme-6":"border-gray-300"),modelValue:l(t).country,"onUpdate:modelValue":s[6]||(s[6]=o=>l(t).country=o)},null,8,["class","modelValue"]),e("div",{class:"text-theme-6 mt-2",textContent:d(a("country"))},null,8,de)]),e("div",ie,[ce,r(A,{modelValue:l(t).state,"onUpdate:modelValue":s[7]||(s[7]=o=>l(t).state=o),id:"state"},null,8,["modelValue"]),e("div",{class:"text-theme-6",textContent:d(a("state"))},null,8,re)]),e("div",me,[pe,r(D,{class:i(a("city")!=null?"border-theme-6":"border-gray-300"),modelValue:l(t).city,"onUpdate:modelValue":s[8]||(s[8]=o=>l(t).city=o)},null,8,["class","modelValue"]),e("div",{class:"text-theme-6 mt-2",textContent:d(a("city"))},null,8,ue)])]),e("div",_e,[e("div",be,[he,c(e("input",{id:"postal-code",class:i(["form-control",a("postal_code")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Postal Code","onUpdate:modelValue":s[9]||(s[9]=o=>l(t).postal_code=o)},null,2),[[m,l(t).postal_code]]),e("div",{class:"text-theme-6",textContent:d(a("postal_code"))},null,8,xe)]),e("div",fe,[ve,c(e("input",{id:"address",type:"text",class:i(["form-control",a("address")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Address","onUpdate:modelValue":s[10]||(s[10]=o=>l(t).address=o)},null,2),[[m,l(t).address]]),e("div",{class:"text-theme-6",textContent:d(a("address"))},null,8,we)])]),e("div",ye,[e("div",ge,[Ce,c(e("input",{id:"second-address",type:"text",class:i(["form-control",a("second_address")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Additional address line","onUpdate:modelValue":s[11]||(s[11]=o=>l(t).second_address=o)},null,2),[[m,l(t).second_address]]),e("div",{class:"text-theme-6 mt-2",textContent:d(a("second_address"))},null,8,ke)]),e("div",Ve,[Ue,e("div",Se,[Me,r(n,{id:"cashback",class:i(["w-full",a("cashback_percent")!=null?"border-theme-6":"border-gray-300"]),modelValue:l(t).cashback_percent,"onUpdate:modelValue":s[12]||(s[12]=o=>l(t).cashback_percent=o),"aria-describedby":"input-group-percent"},{default:N(()=>[Ae,De]),_:1},8,["class","modelValue"]),e("div",{class:"text-theme-6 mt-2",textContent:d(a("cashback_percent"))},null,8,Ne)])])]),e("div",Ee,[e("div",Ie,[e("div",Pe,[c(e("input",{id:"show-example-5","data-target":"#select-options",class:"show-code form-check-switch mr-3 ml-0",type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=o=>l(t).pub_show_reviews=o)},null,512),[[f,l(t).pub_show_reviews]]),Te])]),e("div",$e,[e("div",Be,[c(e("input",{id:"show-example-6","data-target":"#select-options",class:"show-code form-check-switch mr-3 ml-0",type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=o=>l(t).pub_show_like=o)},null,512),[[f,l(t).pub_show_like]]),je])])]),e("div",qe,[Fe,c(e("textarea",{id:"about",class:i(["form-control",a("about")!=null?"border-theme-6":"border-gray-300"]),placeholder:"Describe your company","onUpdate:modelValue":s[15]||(s[15]=o=>l(t).about=o)},null,2),[[m,l(t).about]]),e("div",{class:"text-theme-6",textContent:d(a("about"))},null,8,Le)]),e("div",ze,[r(E,{"is-loading":b.value},null,8,["is-loading"])])],40,G)])])])])}}};export{We as default};
