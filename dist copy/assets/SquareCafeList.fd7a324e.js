import{a9 as b,g as v,r as c,a as o,b as l,d as s,n as _,A as y,aI as k,aJ as q,f as x,aK as C,aL as L,_ as I,F as h,l as w,t as N,e as m,w as V}from"./index.c1d8041c.js";const B="/assets/squareup.bd85705b.png",D={class:"p-0 mt-5"},R=k('<div class="p-5 text-center"><div class="flex justify-center my-3 h-10 mt-3"><img src="'+q+'" class="mr-3"><img src="'+B+'"></div><div class="text-3xl mt-5">Do you want to integrate with SquareUp</div><div class="text-base mt-3"> Do you already use Square? We can import all your menu and products from Square if you like. </div></div>',1),$={class:"px-5 pb-8 text-center"},E=x("Integrate "),H={__name:"SquareIntegrate",setup(a){const r=b(),i=v(!1);async function f(){var t;i.value=!0;const e=await r.dispatch("fetchSquareRedirectUrl",{is_make_create_order:!0});i.value=!1,e.status&&(location.href=(t=e==null?void 0:e.data)==null?void 0:t.url)}return(e,t)=>{const d=c("LoadingIcon");return o(),l("div",D,[R,s("div",$,[s("button",{type:"button",class:"btn btn-success w-24",onClick:f},[E,i.value?(o(),_(d,{key:0,icon:"oval",class:"ml-2 w-4 h-4"})):y("",!0)])])])}}},U={data(){return{locations:[],list:[],loading:!1,error:{}}},computed:{...C(["cafes/getSquareSelectedCafeList"]),cafes(){return this["cafes/getSquareSelectedCafeList"]}},methods:{...L(["cafes/fetchCafeList","cafes/squareCafeNotification","syncSquare"]),change(a){this["cafes/squareCafeNotification"](a.id),a.square_notifications=!a.square_notifications},synchSquare(){this.loading=!0;const a=this;this.syncSquare().then(()=>{a.loading=!1})}},created(){this["cafes/fetchCafeList"]()}},A={class:"flex align-middle"},F=["disabled"],j=s("div",{class:"form-check-label text-base mt-2"},"Refresh Square Data",-1),G=s("div",{class:"my-3 font-medim text-base"},"Send order notifications to Square system:",-1),J=["id","checked","onChange"],K=["for","textContent"];function T(a,r,i,f,e,t){const d=c("LoadingIcon"),p=c("RotateCwIcon"),g=c("ExternalLinkIcon"),S=c("router-link");return o(),l(h,null,[s("div",A,[s("button",{class:"btn btn-primary btn-sm text-sm",onClick:r[0]||(r[0]=(...n)=>t.synchSquare&&t.synchSquare(...n)),disabled:e.loading},[e.loading?(o(),_(d,{key:0,icon:"oval"})):(o(),_(p,{key:1}))],8,F),j]),G,(o(!0),l(h,null,w(t.cafes,(n,u)=>(o(),l("div",{class:"form-check",key:u},[s("input",{id:"toggle"+u,class:"form-check-switch",type:"checkbox",checked:n.square_notifications,onChange:W=>t.change(n)},null,40,J),s("label",{class:"form-check-label text-base cursor-pointer",for:"toggle"+u,textContent:N(n.name)},null,8,K),m(S,{to:"/dashboard/cafes/"+n.id},{default:V(()=>[m(g,{class:"ml-2 hover:text-theme-1 cursor-pointer"})]),_:2},1032,["to"])]))),128))],64)}const M=I(U,[["render",T]]);export{M as S,H as _};
